webpackJsonp([14],{cwNm:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"AddAdmin",data:function(){var r=this;return{ruleForm2:{id:"",originalPassword:"",password:""},rules2:{originalPassword:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):/^(?![0-9]+$)(?![a-zA-Z]+$)[A-Za-z_][A-Za-z_0-9]{6,18}$/.test(r.ruleForm2.originalPassword)?o():o(new Error("密码为6-18位，包含字母、数字或下划线，不能以数字开头"))},trigger:"blur",required:!0}],password:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):/^(?![0-9]+$)(?![a-zA-Z]+$)[A-Za-z_][A-Za-z_0-9]{6,18}$/.test(r.ruleForm2.password)?r.ruleForm2.originalPassword==r.ruleForm2.password?o(new Error("新密码和原密码一致，请重新输入！")):o():o(new Error("密码为6-18位，包含字母、数字或下划线，不能以数字开头"))},trigger:"blur",required:!0}]},btnStatus:{info:!1,text:"提交"}}},methods:{submitForm:function(r){var e=this,t=this;this.$refs[r].validate(function(r){r&&(e.btnStatus={info:!0,text:"提交中"},e.$http({method:"put",url:"/changeAdminPsw",data:e.ruleForm2}).then(function(r){"1"==r.data.msg?(e.btnStatus={info:!1,text:"提交"},e.$notify({title:"成功",message:r.data.des,type:"success"}),e.cookie.setCookie("user","",15),e.$store.state.userName="",e.$store.state.userPassword="",setTimeout(function(){t.$router.replace({name:"Login"})},1e3)):(e.btnStatus={info:!1,text:"提交"},e.$notify({title:"警告",message:r.data.des,type:"error"}))}).catch(function(r){t.$message({message:"更改密码失败！",type:"error"}),console.log(r)}))})},resetForm:function(r){this.$refs[r].resetFields()}},components:{BreadCrumb:t("ZPfm").a},created:function(){this.ruleForm2.id=this.$route.params.id},mounted:function(){}},s={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("GeminiScrollbar",{staticClass:"add_admin_wrap"},[t("bread-crumb"),r._v(" "),t("div",{staticClass:"add_admin_con"},[t("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:r.ruleForm2,"status-icon":"",rules:r.rules2,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"原密码",prop:"originalPassword"}},[t("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:r.ruleForm2.originalPassword,callback:function(e){r.$set(r.ruleForm2,"originalPassword",e)},expression:"ruleForm2.originalPassword"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"新密码",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:r.ruleForm2.password,callback:function(e){r.$set(r.ruleForm2,"password",e)},expression:"ruleForm2.password"}})],1),r._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:r.btnStatus.info},on:{click:function(e){r.submitForm("ruleForm2")}}},[r._v(r._s(r.btnStatus.text)+"\n        ")]),r._v(" "),t("el-button",{on:{click:function(e){r.resetForm("ruleForm2")}}},[r._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var a=t("VU/8")(o,s,!1,function(r){t("jQgL")},"data-v-5418beac",null);e.default=a.exports},jQgL:function(r,e){}});
//# sourceMappingURL=14.d3f5f06264e4406fa24b.js.map