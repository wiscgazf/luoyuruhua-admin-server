webpackJsonp([9],{Zjej:function(e,t){},lSJK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"AddUser",data:function(){var e=this;return{ruleForm2:{name:"",phone:"",password:"",email:"",age:"",sex:"",signature:""},rules2:{name:[{validator:function(e,t,r){""===t?r(new Error("请输入用户名")):r()},trigger:"blur",required:!0}],password:[{validator:function(t,r,s){""===r?s(new Error("请输入密码")):/^(?![0-9]+$)(?![a-zA-Z]+$)[A-Za-z_][A-Za-z_0-9]{6,18}$/.test(e.ruleForm2.password)?s():s(new Error("密码为6-18位，包含字母、数字或下划线，不能以数字开头"))},trigger:"blur",required:!0}]},btnStatus:{info:!1,text:"提交"},permissions:!0}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$notify({title:"警告",message:"请按需求填入用户信息！",type:"error"}),!1;t.btnStatus={info:!0,text:"提交中"},t.$http({method:"post",url:"/addUser",data:t.ruleForm2}).then(function(e){"1"==e.data.msg?(t.btnStatus={info:!1,text:"提交"},t.$notify({title:"成功",message:e.data.des,type:"success"}),setTimeout(function(){t.$router.push({name:"UserMain"})},1e3)):(t.btnStatus={info:!1,text:"提交"},t.$notify({title:"警告",message:e.data.des,type:"error"}))}).catch(function(e){t.$message({message:"请求异常，请联系管理员！",type:"error"}),console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()}},components:{BreadCrumb:r("ZPfm").a},mounted:function(){var e=this;this.$http({url:"/authPermission",params:{name:this.cookie.getCookie("user")}}).then(function(t){"auth"==t.data.isAuth?e.permissions=!1:e.$notify({title:"警告",message:"拥有最高权限才能添加用户！",type:"error"})}).catch(function(t){e.$message({message:"获取权限失败，请联系管理员！",type:"error"}),console.log(t)})}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("GeminiScrollbar",{staticClass:"add_admin_wrap"},[r("bread-crumb"),e._v(" "),r("div",{staticClass:"add_admin_con"},[r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.name,callback:function(t){e.$set(e.ruleForm2,"name",t)},expression:"ruleForm2.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.phone,callback:function(t){e.$set(e.ruleForm2,"phone",t)},expression:"ruleForm2.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.email,callback:function(t){e.$set(e.ruleForm2,"email",t)},expression:"ruleForm2.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio-group",{attrs:{disabled:e.permissions},model:{value:e.ruleForm2.sex,callback:function(t){e.$set(e.ruleForm2,"sex",t)},expression:"ruleForm2.sex"}},[r("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("女")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"年龄"}},[r("el-input",{attrs:{disabled:e.permissions},model:{value:e.ruleForm2.age,callback:function(t){e.$set(e.ruleForm2,"age",e._n(t))},expression:"ruleForm2.age"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"个性签名"}},[r("el-input",{attrs:{type:"textarea","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.signature,callback:function(t){e.$set(e.ruleForm2,"signature",t)},expression:"ruleForm2.signature"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",disabled:e.permissions,loading:e.btnStatus.info},on:{click:function(t){e.submitForm("ruleForm2")}}},[e._v("\n          "+e._s(e.btnStatus.text)+"\n        ")]),e._v(" "),r("el-button",{attrs:{disabled:e.permissions},on:{click:function(t){e.resetForm("ruleForm2")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var a=r("VU/8")(s,o,!1,function(e){r("Zjej")},"data-v-75cbaf80",null);t.default=a.exports}});
//# sourceMappingURL=9.13ab58df56d369e30d45.js.map