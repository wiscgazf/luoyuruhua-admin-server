webpackJsonp([3],{"/5cb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("RRo+"),s=r.n(o),a={name:"AddAdmin",data:function(){var e=this;return{ruleForm2:{name:"",phone:"",password:"",email:"",age:"",sex:"",signature:"",permissions:"admin"},rules2:{name:[{validator:function(e,t,r){""===t?r(new Error("请输入管理员名称")):r()},trigger:"blur",required:!0}],phone:[{validator:function(t,r,o){""===r?o(new Error("请输入手机号")):/^1(3|4|5|7|8)\d{9}$/.test(e.ruleForm2.phone)?o():o(new Error("手机号有误，请重新输入"))},trigger:"blur",required:!0}],password:[{validator:function(t,r,o){""===r?o(new Error("请输入密码")):/^(?![0-9]+$)(?![a-zA-Z]+$)[A-Za-z_][A-Za-z_0-9]{6,18}$/.test(e.ruleForm2.password)?o():o(new Error("密码为6-18位，包含字母、数字或下划线，不能以数字开头"))},trigger:"blur",required:!0}],age:[{validator:function(e,t,r){if(!t)return r(new Error("年龄不能为空"));setTimeout(function(){s()(t)?t<18?r(new Error("必须年满18岁")):r():r(new Error("请输入数字值"))},1e3)},trigger:"blur"}],sex:[{required:!0,message:"请选择您的性别",trigger:"change"}]},btnStatus:{info:!1,text:"提交"},permissions:!0}},methods:{submitForm:function(e){var t=this,r=this;this.$refs[e].validate(function(e){if(!e)return r.$notify({title:"警告",message:"请输入要添加的管理员信息",type:"error"}),!1;r.btnStatus={info:!0,text:"提交中"},t.$http({method:"post",url:"/addAdmin",data:r.ruleForm2}).then(function(e){"1"==e.data.msg?(r.btnStatus={info:!1,text:"提交"},r.$notify({title:"成功",message:e.data.des,type:"success"}),setTimeout(function(){r.$router.push({name:"AdminMain"})},1e3)):(r.btnStatus={info:!1,text:"提交"},r.$notify({title:"警告",message:e.data.des,type:"error"}))}).catch(function(e){r.$message({message:"登录异常，请联系管理员！",type:"error"}),console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()}},components:{BreadCrumb:r("ZPfm").a},mounted:function(){var e=this;this.$http({method:"get",url:"/authPermission",params:{name:this.cookie.getCookie("user")}}).then(function(t){"auth"==t.data.isAuth?e.permissions=!1:e.$notify({title:"警告",message:"拥有最高权限才能添加管理员！",type:"error"})}).catch(function(t){e.$notify({title:"警告",message:"拥有最高权限才能添加管理员！",type:"error"})})}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("GeminiScrollbar",{staticClass:"add_admin_wrap"},[r("bread-crumb"),e._v(" "),r("div",{staticClass:"add_admin_con"},[r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"管理员名称",prop:"name"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.name,callback:function(t){e.$set(e.ruleForm2,"name",t)},expression:"ruleForm2.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.phone,callback:function(t){e.$set(e.ruleForm2,"phone",t)},expression:"ruleForm2.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属权限"}},[r("el-select",{attrs:{placeholder:"请选择权限类型",disabled:e.permissions},model:{value:e.ruleForm2.permissions,callback:function(t){e.$set(e.ruleForm2,"permissions",t)},expression:"ruleForm2.permissions"}},[r("el-option",{attrs:{label:"作者",value:"auth"}}),e._v(" "),r("el-option",{attrs:{label:"管理员",value:"admin"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.email,callback:function(t){e.$set(e.ruleForm2,"email",t)},expression:"ruleForm2.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{attrs:{disabled:e.permissions},model:{value:e.ruleForm2.sex,callback:function(t){e.$set(e.ruleForm2,"sex",t)},expression:"ruleForm2.sex"}},[r("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("女")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"年龄",prop:"age"}},[r("el-input",{attrs:{disabled:e.permissions},model:{value:e.ruleForm2.age,callback:function(t){e.$set(e.ruleForm2,"age",e._n(t))},expression:"ruleForm2.age"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"个性签名"}},[r("el-input",{attrs:{type:"textarea","auto-complete":"off",disabled:e.permissions},model:{value:e.ruleForm2.signature,callback:function(t){e.$set(e.ruleForm2,"signature",t)},expression:"ruleForm2.signature"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",disabled:e.permissions,loading:e.btnStatus.info},on:{click:function(t){e.submitForm("ruleForm2")}}},[e._v("\n          "+e._s(e.btnStatus.text)+"\n        ")]),e._v(" "),r("el-button",{attrs:{disabled:e.permissions},on:{click:function(t){e.resetForm("ruleForm2")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var n=r("VU/8")(a,i,!1,function(e){r("jOBQ")},"data-v-20ad00dc",null);t.default=n.exports},"1alW":function(e,t,r){var o=r("kM2E");o(o.S,"Number",{isInteger:r("AKgy")})},AKgy:function(e,t,r){var o=r("EqjI"),s=Math.floor;e.exports=function(e){return!o(e)&&isFinite(e)&&s(e)===e}},"RRo+":function(e,t,r){e.exports={default:r("c45H"),__esModule:!0}},c45H:function(e,t,r){r("1alW"),e.exports=r("FeBl").Number.isInteger},jOBQ:function(e,t){}});
//# sourceMappingURL=3.db618465732847106072.js.map