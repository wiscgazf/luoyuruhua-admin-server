webpackJsonp([5],{FpJh:function(e,t){},h9m6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"EditUser",data:function(){var e=this;return{ruleForm2:{name:"",phone:"",password:"",email:"",age:"",sex:"",signature:""},rules2:{name:[{validator:function(e,t,r){""===t?r(new Error("请输入用户名")):r()},trigger:"blur",required:!0}],password:[{validator:function(t,r,a){""===r?a(new Error("请输入密码")):/^(?![0-9]+$)(?![a-zA-Z]+$)[A-Za-z_][A-Za-z_0-9]{6,18}$/.test(e.ruleForm2.password)?a():a(new Error("密码为6-18位，包含字母、数字或下划线，不能以数字开头"))},trigger:"blur",required:!0}]},btnStatus:{info:!1,text:"提交"}}},components:{BreadCrumb:r("ZPfm").a},methods:{changeImg:function(e){var t=this,r=e.target.files,a=new Image,o="";if(r.length>0)var l=0,s=setInterval(function(){if("image/png"!=r.item(l).type&&"image/jpeg"!=r.item(l).type&&"image/gif"!=r.item(l).type)return!1;r.item(l).size>1024e3?t.$notify({title:"警告",message:"图片大小不得超过2MB",type:"error"}):(a.src=window.URL.createObjectURL(r.item(l)),a.onload=function(){var e=100,r=100,l=e/r;r=(e=120)/l;var s=document.createElement("canvas"),i=s.getContext("2d"),n=document.createAttribute("width");n.nodeValue=e;var m=document.createAttribute("height");m.nodeValue=r,s.setAttributeNode(n),s.setAttributeNode(m),i.drawImage(a,0,0,e,r);var u=a.src.substring(a.src.lastIndexOf(".")+1).toLowerCase();o=s.toDataURL("image/"+u,.7),t.ruleForm2.imgUrl=o,t.url="",console.log(t.ruleForm2.imgUrl)}),l<r.length-1?l++:clearInterval(s)},1e3)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$notify({title:"警告",message:"请完善所需要的用户信息！",type:"error"}),!1;t.$notify({title:"警告",message:"待开发！",type:"error"})})},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){var e=this;this.$http({method:"get",url:"/userDetail",params:{id:this.$route.params.id}}).then(function(t){var r=t.data.Data;e.ruleForm2.imgUrl=r.userImg,e.ruleForm2.name=r.name,e.ruleForm2.password=r.password,e.ruleForm2.phone=r.phone,e.ruleForm2.sex=r.sex,e.ruleForm2.email=r.email,e.ruleForm2.age=r.age,e.ruleForm2.userId=r.id,e.ruleForm2.signature=r.signature}).catch(function(t){e.$message({message:"获取详情失败，请联系管理员！",type:"error"}),console.log(t)})}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("GeminiScrollbar",{staticClass:"admin_detail"},[r("bread-crumb"),e._v(" "),r("div",{staticClass:"edit_wrap"},[r("div",{staticClass:"add_admin_con"},[r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.ruleForm2.name,callback:function(t){e.$set(e.ruleForm2,"name",t)},expression:"ruleForm2.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.ruleForm2.phone,callback:function(t){e.$set(e.ruleForm2,"phone",t)},expression:"ruleForm2.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.ruleForm2.email,callback:function(t){e.$set(e.ruleForm2,"email",t)},expression:"ruleForm2.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{model:{value:e.ruleForm2.sex,callback:function(t){e.$set(e.ruleForm2,"sex",t)},expression:"ruleForm2.sex"}},[r("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"年龄",prop:"age"}},[r("el-input",{model:{value:e.ruleForm2.age,callback:function(t){e.$set(e.ruleForm2,"age",e._n(t))},expression:"ruleForm2.age"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"个性签名"}},[r("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:e.ruleForm2.signature,callback:function(t){e.$set(e.ruleForm2,"signature",t)},expression:"ruleForm2.signature"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.btnStatus.info},on:{click:function(t){e.submitForm("ruleForm2")}}},[e._v(e._s(e.btnStatus.text)+"\n          ")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm2")}}},[e._v("重置")])],1)],1)],1),e._v(" "),r("div",{staticClass:"com-upload-img"},[r("div",{staticClass:"img_group"},[r("div",{staticClass:"img_box",attrs:{id:"show_upload"}},[r("img",{attrs:{src:e.ruleForm2.imgUrl,alt:""}}),e._v(" "),r("div",{staticClass:"filter"},[r("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(t){e.changeImg(t)}}})])]),e._v(" "),r("p",[e._v("点击上传")])])])])],1)},staticRenderFns:[]};var l=r("VU/8")(a,o,!1,function(e){r("FpJh")},"data-v-77dbf36a",null);t.default=l.exports}});
//# sourceMappingURL=5.35e6102102999d85ab25.js.map